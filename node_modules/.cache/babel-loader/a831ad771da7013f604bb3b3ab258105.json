{"ast":null,"code":"var _jsxFileName = \"/Users/rodel/coding/akin/kv-wasp-client/src/Layouts/Pages/Dashboard/DashboardContainer.js\";\nimport React, { PureComponent } from 'react';\nimport { withRouter, Link } from 'react-router-dom';\nimport Radial from \"../../Chart/Radial\";\nimport RadialGradient from \"../../Chart/RadialGradient\";\nimport RadialSemiCircle from \"../../Chart/RadialSemiCircle\";\nimport RadialStroked from \"../../Chart/RadialStroked\";\nimport { CountdownCircleTimer } from 'react-countdown-circle-timer';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n// let timer = 60;\nlet isLoading = false;\nlet timeInterval = 10;\n\nclass DashboardContainer extends PureComponent {\n  constructor(props, context) {\n    super(props, context);\n    this.state = {\n      data: {\n        Altitude: 0,\n        Created: \"\",\n        Humidity: 0,\n        Light: 0,\n        Nitrogen: 0,\n        Phosphorous: 0,\n        Potassium: 0,\n        Pressure: 0,\n        SoilMoisture: 0,\n        Temperature: 0,\n        WaterFlow: 0\n      }\n    };\n    this.timeMsg = 'Until refresh';\n    this.timer = 10;\n    this.deviceData = {\n      Altitude: 0,\n      Created: \"\",\n      Humidity: 0,\n      Light: 0,\n      Nitrogen: 0,\n      Phosphorous: 0,\n      Potassium: 0,\n      Pressure: 0,\n      SoilMoisture: 0,\n      Temperature: 0,\n      WaterFlow: 0\n    };\n  }\n\n  componentWillMount() {\n    console.log('componentWillMount'); // const {fetchDashboard, resetDashboard } = this.props;\n\n    setTimeout(() => {\n      console.log('componentWillMount refreshing ...');\n      this.props.fetchDashboard('all');\n    }, 1000);\n  }\n\n  componentDidMount() {\n    console.log('componentDidMount', this.timer);\n    this.timer = setInterval(() => {\n      this.isLoading = true;\n      console.log('componentDidMount refreshing ...');\n      this.props.fetchDashboard('all');\n    }, timeInterval * 1000);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.timer);\n  }\n\n  render() {\n    const {\n      fetchDashboard,\n      resetDashboard,\n      dashboardState\n    } = this.props;\n    console.log('dashboardState', dashboardState);\n    console.log('dashboardState data', dashboardState.data);\n    let data = [];\n\n    if (dashboardState && dashboardState.status === 'Succeed') {\n      console.log('deviceData', dashboardState.data.data[0]);\n      this.deviceData = dashboardState.data.data[0];\n      this.setState({ ...this.state,\n        data: dashboardState.data.data[0]\n      });\n      console.log('deviceData', this.deviceData);\n      console.log('this.state', this.state);\n      console.log('this.state.data.Temperature', this.state.data.Temperature);\n      this.isLoading = false;\n    }\n\n    const renderTime = ({\n      remainingTime\n    }) => {\n      if (remainingTime === 1) {\n        this.timeMsg = 'Refreshing';\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"timer\",\n          style: {\n            color: 'red',\n            'font-size': '10px'\n          },\n          children: \"0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 16\n        }, this);\n      } else {\n        this.timeMsg = 'Until Refresh';\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"timer\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"value\",\n            style: {\n              color: 'yellow',\n              'font-size': '10px'\n            },\n            children: remainingTime\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 9\n        }, this);\n      }\n    };\n\n    return /*#__PURE__*/_jsxDEV(React.Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: this.isLoading ? \"none\" : \"block\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            'margin-left': '50px',\n            display: 'flex'\n          },\n          children: [/*#__PURE__*/_jsxDEV(CountdownCircleTimer, {\n            isPlaying: true,\n            duration: this.timer,\n            colors: [[\"#004777\", 0.33], [\"#F7B801\", 0.33], [\"#A30000\"]],\n            size: 30,\n            strokeWidth: 3,\n            onComplete: () => [true, 1000],\n            children: renderTime\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              color: 'white',\n              'font-size': '14px'\n            },\n            children: [\"\\xA0\\xA0\", this.timeMsg]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              color: 'white',\n              'font-size': '14px'\n            },\n            children: [\"\\xA0\\xA0\\xA0Data shown are collected recorded on\\xA0\", this.deviceData.Created]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-inner\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"div-dash\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"row rptpad div-dash-head\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"row st-no-pad-no-margin\",\n                children: /*#__PURE__*/_jsxDEV(RadialStroked, {\n                  series: [this.deviceData.Temperature],\n                  label: ['Temperature'],\n                  unit: 'Farenheiht'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 149,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 148,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 20\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"div-dash\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"row rptpad div-dash-head\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"row st-no-pad-no-margin\",\n                children: /*#__PURE__*/_jsxDEV(RadialStroked, {\n                  series: [this.deviceData.Pressure],\n                  label: ['Pressure (psi)'],\n                  unit: 'psi'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 161,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 160,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 20\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"div-dash\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"row rptpad div-dash-head\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"row st-no-pad-no-margin\",\n                children: /*#__PURE__*/_jsxDEV(RadialStroked, {\n                  series: [this.deviceData.Altitude],\n                  label: ['Altitude (mbar)'],\n                  unit: 'mbar'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 174,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 173,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 20\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"div-dash\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"row rptpad div-dash-head\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"row st-no-pad-no-margin\",\n                children: /*#__PURE__*/_jsxDEV(RadialStroked, {\n                  series: [this.deviceData.Humidity],\n                  label: ['Humidity'],\n                  unit: ''\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 186,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 185,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 20\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"div-dash\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"row rptpad div-dash-head\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"row st-no-pad-no-margin\",\n                children: /*#__PURE__*/_jsxDEV(RadialStroked, {\n                  series: [this.deviceData.SoilMoisture],\n                  label: ['Soil Moisture (%)'],\n                  unit: 'percent'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 198,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 197,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"div-dash\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"row rptpad div-dash-head\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"row st-no-pad-no-margin\",\n                children: /*#__PURE__*/_jsxDEV(RadialStroked, {\n                  series: [this.deviceData.Light],\n                  label: ['Light Intensity (lux)'],\n                  unit: 'lux'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 210,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 209,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"div-dash\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"row rptpad div-dash-head\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"row st-no-pad-no-margin\",\n                children: /*#__PURE__*/_jsxDEV(RadialStroked, {\n                  series: [this.deviceData.WaterFlow],\n                  label: ['Flow Meter (per min)'],\n                  unit: 'per min'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 222,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 221,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"div-dash\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"row rptpad div-dash-head\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"row st-no-pad-no-margin\",\n                children: /*#__PURE__*/_jsxDEV(RadialStroked, {\n                  series: [this.deviceData.Nitrogen],\n                  label: ['Nitrogen (mg/dL)'],\n                  unit: 'mg/dL'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 234,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 233,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 20\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"div-dash\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"row rptpad div-dash-head\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"row st-no-pad-no-margin\",\n                children: /*#__PURE__*/_jsxDEV(RadialStroked, {\n                  series: [this.deviceData.Phosphorous],\n                  label: ['Phosphorous (mg/dL)'],\n                  unit: 'mg/dL'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 246,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 245,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 244,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 20\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"div-dash\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"row rptpad div-dash-head\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"row st-no-pad-no-margin\",\n                children: /*#__PURE__*/_jsxDEV(RadialStroked, {\n                  series: [this.deviceData.Potassium],\n                  label: ['Potassium (ppm)'],\n                  unit: 'ppm'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 258,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 257,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 256,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 9\n    }, this);\n  }\n\n}\n\nexport default _c = withRouter(DashboardContainer);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"sources":["/Users/rodel/coding/akin/kv-wasp-client/src/Layouts/Pages/Dashboard/DashboardContainer.js"],"names":["React","PureComponent","withRouter","Link","Radial","RadialGradient","RadialSemiCircle","RadialStroked","CountdownCircleTimer","isLoading","timeInterval","DashboardContainer","constructor","props","context","state","data","Altitude","Created","Humidity","Light","Nitrogen","Phosphorous","Potassium","Pressure","SoilMoisture","Temperature","WaterFlow","timeMsg","timer","deviceData","componentWillMount","console","log","setTimeout","fetchDashboard","componentDidMount","setInterval","componentWillUnmount","clearInterval","render","resetDashboard","dashboardState","status","setState","renderTime","remainingTime","color","display"],"mappings":"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","sourcesContent":["import React, { PureComponent } from 'react';\nimport { withRouter, Link } from 'react-router-dom';\n\nimport Radial from \"../../Chart/Radial\";\nimport RadialGradient from \"../../Chart/RadialGradient\";\nimport RadialSemiCircle from \"../../Chart/RadialSemiCircle\";\nimport RadialStroked from \"../../Chart/RadialStroked\";\nimport { CountdownCircleTimer } from 'react-countdown-circle-timer'\n\ntype State = {\n\n}\n\ntype Props = {\n    dashboardState : Object,\n    fetchDashboard: Function,\n    resetDashboard: Function\n}\n// let timer = 60;\n\nlet isLoading = false;\nlet timeInterval = 10;\n\n\n\nclass DashboardContainer extends PureComponent<Props, State> {\n\n  constructor(props: Props, context: Context) {\n    super(props, context);\n    this.state = {\n      data: {\n        Altitude: 0,\n        Created: \"\",\n        Humidity: 0,\n        Light: 0,\n        Nitrogen: 0,\n        Phosphorous: 0,\n        Potassium: 0,\n        Pressure: 0,\n        SoilMoisture: 0,\n        Temperature: 0,\n        WaterFlow: 0\n      }\n    }\n    this.timeMsg = 'Until refresh';\n    this.timer = 10;\n    this.deviceData = {\n      Altitude: 0,\n      Created: \"\",\n      Humidity: 0,\n      Light: 0,\n      Nitrogen: 0,\n      Phosphorous: 0,\n      Potassium: 0,\n      Pressure: 0,\n      SoilMoisture: 0,\n      Temperature: 0,\n      WaterFlow: 0\n    }\n  }\n\n\n  componentWillMount() {\n    console.log('componentWillMount');\n    // const {fetchDashboard, resetDashboard } = this.props;\n    setTimeout(() => {\n      console.log('componentWillMount refreshing ...');\n\t\t\tthis.props.fetchDashboard('all');\n\t\t}, 1000);\n  }\n\n  componentDidMount() {\n    console.log('componentDidMount', this.timer);\n    this.timer = setInterval(() => {\n      this.isLoading = true;\n      console.log('componentDidMount refreshing ...');\n      this.props.fetchDashboard('all');\n    },(timeInterval * 1000))\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.timer);\n  }\n\n  render() {\n    const { fetchDashboard, resetDashboard, dashboardState } = this.props;\n    console.log('dashboardState', dashboardState);\n    console.log('dashboardState data', dashboardState.data);\n    let data = [] ; \n    if (dashboardState && dashboardState.status === 'Succeed') {\n      console.log('deviceData', dashboardState.data.data[0]);\n      this.deviceData = dashboardState.data.data[0];\n      this.setState({\n\t\t\t\t...this.state,\n        data: dashboardState.data.data[0]\n      })\n      console.log('deviceData', this.deviceData);\n      console.log('this.state', this.state);\n      console.log('this.state.data.Temperature', this.state.data.Temperature);\n      this.isLoading = false;\n    } \n\n    const renderTime = ({ remainingTime }) => {\n      if (remainingTime === 1) {\n        this.timeMsg = 'Refreshing';\n        return <div className=\"timer\" style={{color: 'red', 'font-size': '10px'}}>0</div>;\n      } else {\n        this.timeMsg = 'Until Refresh';\n      return (\n        <div className=\"timer\">\n          <div className=\"value\" style={{color: 'yellow', 'font-size': '10px'}}>{remainingTime}</div>\n          {/* <div className=\"text\">Refresh in&nbsp;{remainingTime}&nbsp;seconds</div>\n          <div className=\"value\">{remainingTime}</div>\n          <div className=\"text\">seconds</div>  */}\n        </div>\n      );\n    }\n    };\n\n    return (\n    \n        <React.Fragment>\n            {/* <div style={{'margin-left': '50px'}}>\n                <p style={{color: 'white'}}>Reading @ Oct 23, 2021 10:30AM</p>\n            </div> */}\n            \n            <br/>\n            <div style={{ display: this.isLoading ? \"none\" : \"block\" }}>\n            <div style={{'margin-left': '50px', display: 'flex'}}>\n                <CountdownCircleTimer\n                  isPlaying\n                  duration={this.timer}\n                  colors={[[\"#004777\", 0.33], [\"#F7B801\", 0.33], [\"#A30000\"]]}\n                  size={30}\n                  strokeWidth={3}\n                  onComplete={() => [true, 1000]}\n                >\n                  {renderTime}\n                </CountdownCircleTimer>\n                <span style={{color: 'white', 'font-size': '14px'}}>&nbsp;&nbsp;{this.timeMsg}</span>\n                <span style={{color: 'white', 'font-size': '14px'}}>&nbsp;&nbsp;&nbsp;Data shown are collected recorded on&nbsp;{this.deviceData.Created}</span>\n              </div>\n              <br/>\n              <div className=\"mt-inner\">\n\n                   <div class=\"div-dash\">\n                    <div class=\"row rptpad div-dash-head\">\n                      <div class=\"row st-no-pad-no-margin\">\n                      <RadialStroked\n                        series={[this.deviceData.Temperature]}\n                        label={['Temperature']}\n                        unit={'Farenheiht'}\n                      />\n                      </div>\n                    </div>\n                  </div>\n\n                   <div class=\"div-dash\">\n                    <div class=\"row rptpad div-dash-head\">\n                      <div class=\"row st-no-pad-no-margin\">\n                      <RadialStroked\n                        series={[this.deviceData.Pressure]}\n                        label={['Pressure (psi)']}\n                        unit={'psi'}\n                      />\n                      </div>\n                    </div>\n                  </div>\n\n\n                   <div class=\"div-dash\">\n                    <div class=\"row rptpad div-dash-head\">\n                      <div class=\"row st-no-pad-no-margin\">\n                      <RadialStroked\n                        series={[this.deviceData.Altitude]}\n                        label={['Altitude (mbar)']}\n                        unit={'mbar'}\n                      />\n                      </div>\n                    </div>\n                  </div>\n\n                   <div class=\"div-dash\">\n                    <div class=\"row rptpad div-dash-head\">\n                      <div class=\"row st-no-pad-no-margin\">\n                      <RadialStroked\n                        series={[this.deviceData.Humidity]}\n                        label={['Humidity']}\n                        unit={''}\n                      />\n                      </div>\n                    </div>\n                  </div>\n\n                  <div class=\"div-dash\">\n                    <div class=\"row rptpad div-dash-head\">\n                      <div class=\"row st-no-pad-no-margin\">\n                      <RadialStroked\n                        series={[this.deviceData.SoilMoisture]}\n                        label={['Soil Moisture (%)']}\n                        unit={'percent'}\n                      />\n                      </div>\n                    </div>\n                  </div>\n\n                  <div class=\"div-dash\">\n                    <div class=\"row rptpad div-dash-head\">\n                      <div class=\"row st-no-pad-no-margin\">\n                      <RadialStroked\n                        series={[this.deviceData.Light]}\n                        label={['Light Intensity (lux)']}\n                        unit={'lux'}\n                      />\n                      </div>\n                    </div>\n                  </div>\n\n                  <div class=\"div-dash\">\n                    <div class=\"row rptpad div-dash-head\">\n                      <div class=\"row st-no-pad-no-margin\">\n                      <RadialStroked\n                        series={[this.deviceData.WaterFlow]}\n                        label={['Flow Meter (per min)']}\n                        unit={'per min'}\n                      />\n                      </div>\n                    </div>\n                  </div>\n\n                   <div class=\"div-dash\">\n                    <div class=\"row rptpad div-dash-head\">\n                      <div class=\"row st-no-pad-no-margin\">\n                      <RadialStroked\n                        series={[this.deviceData.Nitrogen]}\n                        label={['Nitrogen (mg/dL)']}\n                        unit={'mg/dL'}\n                      />\n                      </div>\n                    </div>\n                  </div>\n\n                   <div class=\"div-dash\">\n                    <div class=\"row rptpad div-dash-head\">\n                      <div class=\"row st-no-pad-no-margin\">\n                      <RadialStroked\n                        series={[this.deviceData.Phosphorous]}\n                        label={['Phosphorous (mg/dL)']}\n                        unit={'mg/dL'}\n                      />\n                      </div>\n                    </div>\n                  </div>\n\n                  <div class=\"div-dash\">\n                    <div class=\"row rptpad div-dash-head\">\n                      <div class=\"row st-no-pad-no-margin\">\n                      <RadialStroked\n                        series={[this.deviceData.Potassium]}\n                        label={['Potassium (ppm)']}\n                        unit={'ppm'}\n                      />\n                      </div>\n                    </div>\n                  </div>\n              </div>\n            </div>\n        </React.Fragment>\n    );\n  }\n}\n\nexport default withRouter(DashboardContainer);\n"]},"metadata":{},"sourceType":"module"}