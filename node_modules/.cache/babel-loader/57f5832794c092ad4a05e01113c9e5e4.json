{"ast":null,"code":"var _jsxFileName = \"/Users/rodel/coding/akin/kv-wasp-client/src/Layouts/Pages/Dashboard/DashboardContainer.js\";\nimport React, { PureComponent } from 'react';\nimport { withRouter, Link } from 'react-router-dom';\nimport Radial from \"../../Chart/Radial\";\nimport RadialGradient from \"../../Chart/RadialGradient\";\nimport RadialSemiCircle from \"../../Chart/RadialSemiCircle\";\nimport RadialStroked from \"../../Chart/RadialStroked\";\nimport { CountdownCircleTimer } from 'react-countdown-circle-timer';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n// let timer = 60;\nlet isLoading = false;\n\nclass DashboardContainer extends PureComponent {\n  constructor(props, context) {\n    super(props, context);\n    this.state = {};\n    this.timeMsg = 'Until refresh';\n    this.timer = 10;\n    this.deviceData = {\n      Altitude: 0,\n      Created: \"\",\n      Humidity: 0,\n      Light: 0,\n      Nitrogen: 0,\n      Phosphorous: 0,\n      Potassium: 0,\n      Pressure: 0,\n      SoilMoisture: 0,\n      Temperature: 0,\n      WaterFlow: 0\n    };\n  }\n\n  componentWillMount() {\n    console.log('componentWillMount'); // const {fetchDashboard, resetDashboard } = this.props;\n\n    setTimeout(() => {\n      console.log('componentWillMount refreshing ...');\n      this.props.fetchDashboard('all');\n    }, 1000);\n  }\n\n  componentDidMount() {\n    console.log('componentDidMount', this.timer);\n    this.timer = setInterval(() => {\n      this.isLoading = true;\n      console.log('componentDidMount refreshing ...');\n      this.props.fetchDashboard('all');\n    }, 10000);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.timer);\n  }\n\n  render() {\n    const {\n      fetchDashboard,\n      resetDashboard,\n      dashboardState\n    } = this.props;\n    console.log('dashboardState', dashboardState);\n    console.log('dashboardState data', dashboardState.data);\n    let data = [];\n\n    if (dashboardState && dashboardState.status === 'Succeed') {\n      console.log('deviceData', dashboardState.data.data[0]);\n      this.deviceData = dashboardState.data.data[0];\n      console.log('deviceData', this.deviceData);\n      this.isLoading = false;\n    }\n\n    const renderTime = ({\n      remainingTime\n    }) => {\n      if (remainingTime === 1) {\n        this.timeMsg = 'Refreshing';\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"timer\",\n          style: {\n            color: 'yellow',\n            'font-size': '10px'\n          },\n          children: \"0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 16\n        }, this);\n      } else if (remainingTime > 1) {\n        this.timeMsg = 'Until refresh';\n      }\n\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"timer\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"value\",\n          style: {\n            color: 'yellow',\n            'font-size': '10px'\n          },\n          children: remainingTime\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this);\n    };\n\n    return /*#__PURE__*/_jsxDEV(React.Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: this.isLoading ? \"none\" : \"block\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            'margin-left': '50px',\n            display: 'flex'\n          },\n          children: [/*#__PURE__*/_jsxDEV(CountdownCircleTimer, {\n            isPlaying: true,\n            duration: this.timer,\n            colors: [[\"#004777\", 0.33], [\"#F7B801\", 0.33], [\"#A30000\"]],\n            size: 30,\n            strokeWidth: 3,\n            onComplete: () => [true, 1000],\n            children: renderTime\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              color: 'white',\n              'font-size': '14px'\n            },\n            children: [\"\\xA0\\xA0\", this.timeMsg]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              color: 'white',\n              'font-size': '14px'\n            },\n            children: [\"\\xA0\\xA0\\xA0Data shown are collected recorded on\\xA0\", this.deviceData.Created]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-inner\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"div-dash\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"row rptpad div-dash-head\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"row st-no-pad-no-margin\",\n                children: /*#__PURE__*/_jsxDEV(RadialStroked, {\n                  series: [this.deviceData.Temperature],\n                  label: ['Temperature', '2021-10-24 5:00 AM'],\n                  unit: 'Farenheiht'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 131,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 130,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 20\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"div-dash\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"row rptpad div-dash-head\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"row st-no-pad-no-margin\",\n                children: /*#__PURE__*/_jsxDEV(RadialStroked, {\n                  series: [this.deviceData.Pressure],\n                  label: ['Pressure (psi)'],\n                  unit: 'psi'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 143,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 142,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 20\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"div-dash\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"row rptpad div-dash-head\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"row st-no-pad-no-margin\",\n                children: /*#__PURE__*/_jsxDEV(RadialStroked, {\n                  series: [this.deviceData.Altitude],\n                  label: ['Altitude (mbar)'],\n                  unit: 'mbar'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 156,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 155,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 20\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"div-dash\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"row rptpad div-dash-head\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"row st-no-pad-no-margin\",\n                children: /*#__PURE__*/_jsxDEV(RadialStroked, {\n                  series: [this.deviceData.Humidity],\n                  label: ['Humidity'],\n                  unit: ''\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 168,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 167,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 20\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"div-dash\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"row rptpad div-dash-head\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"row st-no-pad-no-margin\",\n                children: /*#__PURE__*/_jsxDEV(RadialStroked, {\n                  series: [this.deviceData.SoilMoisture],\n                  label: ['Soil Moisture (%)'],\n                  unit: 'percent'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 180,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 179,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"div-dash\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"row rptpad div-dash-head\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"row st-no-pad-no-margin\",\n                children: /*#__PURE__*/_jsxDEV(RadialStroked, {\n                  series: [1500],\n                  label: ['Light Intensity (lux)'],\n                  unit: 'lux'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 192,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 191,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"div-dash\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"row rptpad div-dash-head\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"row st-no-pad-no-margin\",\n                children: /*#__PURE__*/_jsxDEV(RadialStroked, {\n                  series: [12],\n                  label: ['Flow Meter (per min)'],\n                  unit: 'per min'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 204,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 203,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"div-dash\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"row rptpad div-dash-head\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"row st-no-pad-no-margin\",\n                children: /*#__PURE__*/_jsxDEV(RadialStroked, {\n                  series: [24],\n                  label: ['Nitrogen (mg/dL)'],\n                  unit: 'mg/dL'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 216,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 215,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 20\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"div-dash\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"row rptpad div-dash-head\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"row st-no-pad-no-margin\",\n                children: /*#__PURE__*/_jsxDEV(RadialStroked, {\n                  series: [4.5],\n                  label: ['Phosphorous (mg/dL)'],\n                  unit: 'mg/dL'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 228,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 227,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 226,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 20\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"div-dash\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"row rptpad div-dash-head\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"row st-no-pad-no-margin\",\n                children: /*#__PURE__*/_jsxDEV(RadialStroked, {\n                  series: [103],\n                  label: ['Potassium (ppm)'],\n                  unit: 'ppm'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 240,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 239,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 238,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 9\n    }, this);\n  }\n\n}\n\nexport default _c = withRouter(DashboardContainer);\n\nvar _c;\n\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"sources":["/Users/rodel/coding/akin/kv-wasp-client/src/Layouts/Pages/Dashboard/DashboardContainer.js"],"names":["React","PureComponent","withRouter","Link","Radial","RadialGradient","RadialSemiCircle","RadialStroked","CountdownCircleTimer","isLoading","DashboardContainer","constructor","props","context","state","timeMsg","timer","deviceData","Altitude","Created","Humidity","Light","Nitrogen","Phosphorous","Potassium","Pressure","SoilMoisture","Temperature","WaterFlow","componentWillMount","console","log","setTimeout","fetchDashboard","componentDidMount","setInterval","componentWillUnmount","clearInterval","render","resetDashboard","dashboardState","data","status","renderTime","remainingTime","color","display"],"mappings":"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","sourcesContent":["import React, { PureComponent } from 'react';\nimport { withRouter, Link } from 'react-router-dom';\n\nimport Radial from \"../../Chart/Radial\";\nimport RadialGradient from \"../../Chart/RadialGradient\";\nimport RadialSemiCircle from \"../../Chart/RadialSemiCircle\";\nimport RadialStroked from \"../../Chart/RadialStroked\";\nimport { CountdownCircleTimer } from 'react-countdown-circle-timer'\n\ntype State = {\n\n}\n\ntype Props = {\n    dashboardState : Object,\n    fetchDashboard: Function,\n    resetDashboard: Function\n}\n// let timer = 60;\n\nlet isLoading = false;\n\n\n\n\nclass DashboardContainer extends PureComponent<Props, State> {\n\n  constructor(props: Props, context: Context) {\n    super(props, context);\n    this.state = {\n     }\n    this.timeMsg = 'Until refresh';\n    this.timer = 10;\n    this.deviceData = {\n      Altitude: 0,\n      Created: \"\",\n      Humidity: 0,\n      Light: 0,\n      Nitrogen: 0,\n      Phosphorous: 0,\n      Potassium: 0,\n      Pressure: 0,\n      SoilMoisture: 0,\n      Temperature: 0,\n      WaterFlow: 0\n    }\n  }\n\n\n  componentWillMount() {\n    console.log('componentWillMount');\n    // const {fetchDashboard, resetDashboard } = this.props;\n    setTimeout(() => {\n      console.log('componentWillMount refreshing ...');\n\t\t\tthis.props.fetchDashboard('all');\n\t\t}, 1000);\n  }\n\n  componentDidMount() {\n    console.log('componentDidMount', this.timer);\n    this.timer = setInterval(() => {\n      this.isLoading = true;\n      console.log('componentDidMount refreshing ...');\n      this.props.fetchDashboard('all');\n    },(10000))\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.timer);\n  }\n\n  render() {\n    const { fetchDashboard, resetDashboard, dashboardState } = this.props;\n    console.log('dashboardState', dashboardState);\n    console.log('dashboardState data', dashboardState.data);\n    let data = [] ; \n    if (dashboardState && dashboardState.status === 'Succeed') {\n      console.log('deviceData', dashboardState.data.data[0]);\n      this.deviceData = dashboardState.data.data[0];\n      console.log('deviceData', this.deviceData);\n      this.isLoading = false;\n    } \n\n    const renderTime = ({ remainingTime }) => {\n      if (remainingTime === 1) {\n        this.timeMsg = 'Refreshing';\n        return <div className=\"timer\" style={{color: 'yellow', 'font-size': '10px'}}>0</div>;\n      } else if (remainingTime > 1) {\n        this.timeMsg = 'Until refresh';\n      }\n    \n      return (\n        <div className=\"timer\">\n          <div className=\"value\" style={{color: 'yellow', 'font-size': '10px'}}>{remainingTime}</div>\n          {/* <div className=\"text\">Refresh in&nbsp;{remainingTime}&nbsp;seconds</div>\n          <div className=\"value\">{remainingTime}</div>\n          <div className=\"text\">seconds</div>  */}\n        </div>\n      );\n    };\n\n    return (\n    \n        <React.Fragment>\n            {/* <div style={{'margin-left': '50px'}}>\n                <p style={{color: 'white'}}>Reading @ Oct 23, 2021 10:30AM</p>\n            </div> */}\n            \n            <br/>\n            <div style={{ display: this.isLoading ? \"none\" : \"block\" }}>\n            <div style={{'margin-left': '50px', display: 'flex'}}>\n                <CountdownCircleTimer\n                  isPlaying\n                  duration={this.timer}\n                  colors={[[\"#004777\", 0.33], [\"#F7B801\", 0.33], [\"#A30000\"]]}\n                  size={30}\n                  strokeWidth={3}\n                  onComplete={() => [true, 1000]}\n                >\n                  {renderTime}\n                </CountdownCircleTimer>\n                <span style={{color: 'white', 'font-size': '14px'}}>&nbsp;&nbsp;{this.timeMsg}</span>\n                <span style={{color: 'white', 'font-size': '14px'}}>&nbsp;&nbsp;&nbsp;Data shown are collected recorded on&nbsp;{this.deviceData.Created}</span>\n              </div>\n              <br/>\n              <div className=\"mt-inner\">\n\n                   <div class=\"div-dash\">\n                    <div class=\"row rptpad div-dash-head\">\n                      <div class=\"row st-no-pad-no-margin\">\n                      <RadialStroked\n                        series={[this.deviceData.Temperature]}\n                        label={['Temperature', '2021-10-24 5:00 AM']}\n                        unit={'Farenheiht'}\n                      />\n                      </div>\n                    </div>\n                  </div>\n\n                   <div class=\"div-dash\">\n                    <div class=\"row rptpad div-dash-head\">\n                      <div class=\"row st-no-pad-no-margin\">\n                      <RadialStroked\n                        series={[this.deviceData.Pressure]}\n                        label={['Pressure (psi)']}\n                        unit={'psi'}\n                      />\n                      </div>\n                    </div>\n                  </div>\n\n\n                   <div class=\"div-dash\">\n                    <div class=\"row rptpad div-dash-head\">\n                      <div class=\"row st-no-pad-no-margin\">\n                      <RadialStroked\n                        series={[this.deviceData.Altitude]}\n                        label={['Altitude (mbar)']}\n                        unit={'mbar'}\n                      />\n                      </div>\n                    </div>\n                  </div>\n\n                   <div class=\"div-dash\">\n                    <div class=\"row rptpad div-dash-head\">\n                      <div class=\"row st-no-pad-no-margin\">\n                      <RadialStroked\n                        series={[this.deviceData.Humidity]}\n                        label={['Humidity']}\n                        unit={''}\n                      />\n                      </div>\n                    </div>\n                  </div>\n\n                  <div class=\"div-dash\">\n                    <div class=\"row rptpad div-dash-head\">\n                      <div class=\"row st-no-pad-no-margin\">\n                      <RadialStroked\n                        series={[this.deviceData.SoilMoisture]}\n                        label={['Soil Moisture (%)']}\n                        unit={'percent'}\n                      />\n                      </div>\n                    </div>\n                  </div>\n\n                  <div class=\"div-dash\">\n                    <div class=\"row rptpad div-dash-head\">\n                      <div class=\"row st-no-pad-no-margin\">\n                      <RadialStroked\n                        series={[1500]}\n                        label={['Light Intensity (lux)']}\n                        unit={'lux'}\n                      />\n                      </div>\n                    </div>\n                  </div>\n\n                  <div class=\"div-dash\">\n                    <div class=\"row rptpad div-dash-head\">\n                      <div class=\"row st-no-pad-no-margin\">\n                      <RadialStroked\n                        series={[12]}\n                        label={['Flow Meter (per min)']}\n                        unit={'per min'}\n                      />\n                      </div>\n                    </div>\n                  </div>\n\n                   <div class=\"div-dash\">\n                    <div class=\"row rptpad div-dash-head\">\n                      <div class=\"row st-no-pad-no-margin\">\n                      <RadialStroked\n                        series={[24]}\n                        label={['Nitrogen (mg/dL)']}\n                        unit={'mg/dL'}\n                      />\n                      </div>\n                    </div>\n                  </div>\n\n                   <div class=\"div-dash\">\n                    <div class=\"row rptpad div-dash-head\">\n                      <div class=\"row st-no-pad-no-margin\">\n                      <RadialStroked\n                        series={[4.5]}\n                        label={['Phosphorous (mg/dL)']}\n                        unit={'mg/dL'}\n                      />\n                      </div>\n                    </div>\n                  </div>\n\n                  <div class=\"div-dash\">\n                    <div class=\"row rptpad div-dash-head\">\n                      <div class=\"row st-no-pad-no-margin\">\n                      <RadialStroked\n                        series={[103]}\n                        label={['Potassium (ppm)']}\n                        unit={'ppm'}\n                      />\n                      </div>\n                    </div>\n                  </div>\n              </div>\n            </div>\n        </React.Fragment>\n    );\n  }\n}\n\nexport default withRouter(DashboardContainer);\n"]},"metadata":{},"sourceType":"module"}